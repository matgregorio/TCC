{"version":3,"file":"components/cookiebar/cookiebar-data.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;UCVA;UACA;;;;;WCDA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;ACNA;AACO;AACP;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://core/webpack/universalModuleDefinition","webpack://core/webpack/bootstrap","webpack://core/webpack/runtime/define property getters","webpack://core/webpack/runtime/hasOwnProperty shorthand","webpack://core/webpack/runtime/make namespace object","webpack://core/./src/components/cookiebar/cookiebar-data.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"core\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"core\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/** Classe que representa os dados do cookiebar */\nexport class CookiebarData {\n  /**\n   * Instancia um objeto de dados do cookiebar. Objeto contém as propriedades contidas no JSON de entrada em uma língua específica\n   * @param {string} json - JSON de entrada de dados\n   * @param {string} lang - Língua para filtrar o JSON de entrada\n   */\n  constructor(json, lang) {\n    this.PRIORITY_LEVELS = 5\n    Object.assign(this, this._filterByLang(json, lang))\n    this._setDataCoherenceByPriority(this.PRIORITY_LEVELS)\n  }\n\n  /**\n   * Filtra um JSON pela língua correspondente\n   * @param {string} json - Dados no formato JSON (array de objetos)\n   * @param {string} lang - Língua para filtrar o array vindo do json\n   * @returns Objeto javascript contendo as propriedade vindas do JSON filtradas pela língua\n   * @private\n   */\n  _filterByLang(json, lang) {\n    const list = JSON.parse(json)\n    const data = list.filter((element) => {\n      return element.lang === lang\n    })\n    if (data.length > 0) {\n      // Existe dados na lingua especificada\n      return data[0] // Retorna o primeiro. Se existir mais objetos na mesma língua, os demais serão ignorados.\n    } else {\n      // Não existe dados na lingua especificada\n      return list[0] // Retorna o primeiro que encontrar\n    }\n  }\n\n  /**\n   * Consolida os dados iniciais baseado em uma hierarquia de prioridades\n   * @private\n   */\n  _setDataCoherenceByPriority() {\n    this.selectAll = !this.allOptOut ? true : this.selectAll\n    this.cookieGroups.forEach((groupData) => {\n      groupData.groupOptOut = !this.allOptOut ? false : groupData.groupOptOut\n      groupData.groupSelected = this.selectAll || !groupData.groupOptOut ? true : groupData.groupSelected\n      groupData.cookieList.forEach((cookieData) => {\n        cookieData.cookieOptOut = !groupData.groupOptOut ? false : cookieData.cookieOptOut\n        cookieData.cookieSelected =\n          groupData.groupSelected || !cookieData.cookieOptOut ? groupData.groupSelected : cookieData.cookieSelected\n      })\n    })\n    this._setIndeterminateState()\n  }\n\n  /**\n   * Controla a configuração do estado indeterminado dos checkboxes\n   * @private\n   */\n  _setIndeterminateState() {\n    this._setGroupIndeterminateState()\n    this._setAllIndeterminateState()\n  }\n\n  /**\n   * Trata a configuração do estado indeterminado dos checkboxes dos grupos de cookies\n   * @private\n   */\n  _setGroupIndeterminateState() {\n    this.cookieGroups.forEach((groupData) => {\n      let allChecked = true\n      let allUnchecked = true\n\n      groupData.cookieList.forEach((cookieData) => {\n        cookieData.cookieSelected ? (allUnchecked = false) : (allChecked = false)\n      })\n\n      groupData.groupSelected = allChecked ? true : allUnchecked ? false : true\n      groupData.groupIndeterminated = allChecked || allUnchecked ? false : true\n    })\n  }\n\n  /**\n   * Trata a configuração do estado indeterminado do checkbox geral\n   * @private\n   */\n  _setAllIndeterminateState() {\n    let allChecked = true\n    let allUnchecked = true\n    let indeterminated = false\n    this.cookieGroups.forEach((groupData) => {\n      groupData.groupSelected ? (allUnchecked = false) : (allChecked = false)\n\n      if (groupData.groupIndeterminated) {\n        indeterminated = true\n      }\n    })\n\n    this.selectAll = allChecked ? true : allUnchecked ? false : true\n    this.allIndeterminated = indeterminated ? true : allChecked || allUnchecked ? false : true\n  }\n\n  /**\n   * Calcula a quantidade de cookies selecionados em 1 grupo de cookies\n   * @param {object} groupData - Objeto com dados de 1 grupo de cookies\n   * @returns {number} - Quantidade de cookies selecionados em 1 grupo de cookies\n   * @public\n   */\n  getCookiesCheckedAmount(groupData) {\n    let count = 0\n    groupData.cookieList.forEach((cookieData) => {\n      if (cookieData.cookieSelected) count += 1\n    })\n    return count\n  }\n\n  /**\n   * Calcula a quantidade total de cookies em 1 grupo de cookies\n   * @param {object} groupData - Objeto com dados de 1 grupo de cookies\n   * @returns {number} - Quantidade total de cookies em 1 grupo de cookies\n   * @public\n   */\n  getCookiesAmount(groupData) {\n    let count = 0\n    groupData.cookieList.forEach(() => {\n      count += 1\n    })\n    return count\n  }\n\n  /**\n   * Ler um arquivo json local\n   * @param {string} path - Caminho para o arquivo\n   * @param {function} callback - Função de callback que recebe a conteúdo do arquivo\n   * @public\n   * @static\n   */\n  static loadJSON(path, callback) {\n    const rawFile = new XMLHttpRequest()\n    rawFile.overrideMimeType('application/json')\n    rawFile.open('GET', path, true)\n    rawFile.onreadystatechange = () => {\n      if (rawFile.readyState === 4 && rawFile.status === 200) {\n        callback(rawFile.responseText)\n      }\n    }\n    rawFile.send(null)\n  }\n}\n"],"names":[],"sourceRoot":""}